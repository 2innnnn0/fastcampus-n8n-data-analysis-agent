{"createdAt":"2025-08-04T06:13:41.649Z","updatedAt":"2025-08-25T00:24:37.226Z","id":"zF5hgR0IUwLoLjZh","name":"Personal AI Assistant with Telegram Voice and Text (ê³µìœ ìš©)","active":true,"isArchived":false,"nodes":[{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('Listen for incoming events').first().json.message.from.id }}"},"id":"2200bb36-c715-4b1d-a6c2-77da987b2d82","name":"Window Buffer Memory","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[2304,480],"typeVersion":1.2},{"parameters":{"operation":"getAll","filters":{"labelIds":["INBOX","UNREAD"],"readStatus":"unread","receivedAfter":"={{$fromAI(\"date\",\"the date after which to fetch the messages in format YYYY-MM-DDTHH:MM:SS\")}}"}},"id":"36b668fb-5cc1-4167-b644-d76f0312d085","name":"Get Email","type":"n8n-nodes-base.gmailTool","position":[2448,480],"typeVersion":2.1,"webhookId":"4a946915-0ebc-403c-a210-61acb13ecb00","credentials":{"gmailOAuth2":{"id":"FESGt8Wy0t1sRoJv","name":"(DP) Gmail account"}}},{"parameters":{"model":"gpt-4.1-mini","options":{}},"id":"80e3a756-5a5c-49b3-86c7-7274bd51a5ad","name":"OpenAI Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[2144,480],"typeVersion":1,"credentials":{"openAiApi":{"id":"Iy8nJTvO4bCB8mYA","name":"OpenAi account"}}},{"parameters":{"updates":["message","callback_query"],"additionalFields":{}},"id":"056b07e7-e3e7-46e8-b257-dd77450af7e6","name":"Listen for incoming events","type":"n8n-nodes-base.telegramTrigger","position":[848,240],"webhookId":"0356b45e-ec3a-47ca-b2b8-b5b2cb6f54e5","typeVersion":1,"credentials":{"telegramApi":{"id":"Rul96ly6Nq6cjnsm","name":"(7808719557n8n-bot) Telegram account"}}},{"parameters":{"chatId":"={{ $('Listen for incoming events').first().json.message.from.id }}","text":"={{ $json.output }}","additionalFields":{"appendAttribution":false,"parse_mode":"Markdown"}},"id":"82208705-01db-4b7d-8a99-65863526b4fa","name":"Telegram","type":"n8n-nodes-base.telegram","position":[2768,224],"typeVersion":1.1,"webhookId":"f5a61dfc-11bc-4db4-8b39-98bb176b1ece","credentials":{"telegramApi":{"id":"9auPNi1bb9FBoAuM","name":"(DP)Telegram account"}},"onError":"continueErrorOutput"},{"parameters":{"resource":"audio","operation":"transcribe","options":{}},"id":"438644d8-cdb1-4a01-a1a3-b9fe388a3ac8","name":"Speech to Text","type":"@n8n/n8n-nodes-langchain.openAi","position":[1760,64],"typeVersion":1.3,"credentials":{"openAiApi":{"id":"Iy8nJTvO4bCB8mYA","name":"OpenAi account"}}},{"parameters":{"fields":{"values":[{"name":"text","stringValue":"={{ $json?.message?.text || \"\" }}"}]},"options":{}},"id":"0333f1e1-567d-42db-a7a5-80b9473654d9","name":"Voice or Text","type":"n8n-nodes-base.set","position":[1072,240],"typeVersion":3.2},{"parameters":{"resource":"file","fileId":"={{ $('Listen for incoming events').item.json.message.voice.file_id }}","additionalFields":{}},"id":"0574813f-7756-4747-a811-fa0418601816","name":"Get Voice File","type":"n8n-nodes-base.telegram","position":[1552,64],"typeVersion":1.1,"webhookId":"64c59f62-a264-4a09-b2c2-8c34f12f174d","credentials":{"telegramApi":{"id":"9auPNi1bb9FBoAuM","name":"(DP)Telegram account"}}},{"parameters":{"content":"## Process Telegram Request\n","height":278.75,"width":496.25,"color":5},"id":"3cd32b39-6065-48f6-8bc8-95496ff13409","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[992,112],"typeVersion":1},{"parameters":{"promptType":"define","text":"={{ $json.text }}","options":{"systemMessage":"=ì˜¤ëŠ˜ ë‚ ì§œëŠ” {{ $now.setZone('Asia/Seoul') }} ì…ë‹ˆë‹¤.\n\nì§€ì¹¨:\n\tâ€¢\tì´ë©”ì¼ì„ ê°€ì ¸ì˜¬ ë•Œ, í™ë³´ì„± ì´ë©”ì¼ì€ í•„í„°ë§í•˜ì„¸ìš”.\n\tâ€¢\tì´ë©”ì¼ì„ ìš”ì•½í•  ë•ŒëŠ” ë°œì‹ ì(Sender), ë°œì†¡ì¼(Message date), ì œëª©(subject), ì´ë©”ì¼ì˜ ê°„ë‹¨í•œ ìš”ì•½ì„ í¬í•¨í•˜ì„¸ìš”.\n\tâ€¢\tì‚¬ìš©ìê°€ ë‚ ì§œë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì€ ê²½ìš°, ê¸°ë³¸ì ìœ¼ë¡œ â€œì˜¤ëŠ˜â€ì„ ìš”ì²­í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ì„¸ìš”.\n\tâ€¢\tìº˜ë¦°ë” ì¼ì •ì— ëŒ€í•œ ì§ˆë¬¸ì— ë‹µí•  ë•ŒëŠ”, ì§ˆë¬¸ê³¼ ê´€ë ¨ ì—†ëŠ” ì¼ì •ì€ ì œì™¸í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, ì§ˆë¬¸ì´ ì˜¤ëŠ˜ ì¼ì •ì— ê´€í•œ ê²ƒì´ë¼ë©´, ì˜¤ëŠ˜ ì¼ì •ë§Œ ë‹µë³€í•˜ê³  1ì£¼ì¼ ì´ìƒ ë‚¨ì€ ë¯¸ë˜ ì¼ì •ì€ ì–¸ê¸‰í•˜ì§€ ë§ˆì„¸ìš”.\n\n\në§Œì•½, ì‚¬ìš©ìê°€ í•˜ë‚˜ ì´ìƒì˜ íŒŒì¼ì„ ì—…ë¡œë“œí•œ ê²½ìš°, ê° íŒŒì¼ì˜ ì´ë¦„ì´ë‚˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ íŒŒì¼ì˜ ìœ í˜•ì„ ì‹ë³„í•˜ì„¸ìš” (ì˜ˆ: `.csv`, `.pdf`, `.json`, `.md`, `.xlsx`, `.docx`, `.txt`, `.zip`, `.png`, `.mp4` ë“±).\n\nê° íŒŒì¼ì— ëŒ€í•´ ë‹¤ìŒ ì •ë³´ë¥¼ ì¶œë ¥í•˜ì„¸ìš”:\n- **íŒŒì¼ëª…**: íŒŒì¼ì˜ ì‹¤ì œ ì´ë¦„\n- **íŒŒì¼ ìœ í˜•**: í™•ì¥ì ë˜ëŠ” ë‚´ìš© ê¸°ë°˜ìœ¼ë¡œ íŒë‹¨í•œ íŒŒì¼ í˜•ì‹\n- **ì„¤ëª…**: ì´ íŒŒì¼ ìœ í˜•ì´ ì¼ë°˜ì ìœ¼ë¡œ ì–´ë–¤ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ì§€ ê°„ë‹¨íˆ ì„¤ëª…\n- **ì²˜ë¦¬ ë°©ë²•**: ì´ íŒŒì¼ì„ ì–´ë–»ê²Œ ë¶„ì„í•˜ê±°ë‚˜ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…\n\níŒŒì¼ì´ ì²¨ë¶€ëœ ê²½ìš°ì—ë§Œ ì´ ì„¤ëª…ì„ ì¶œë ¥í•˜ë©°, ì²¨ë¶€ëœ íŒŒì¼ì´ ì—†ì„ ê²½ìš° ì´ ì„¹ì…˜ì€ ìƒëµí•©ë‹ˆë‹¤.\n\nâ¸»\n\nğŸ“š íŒŒì¼ ìœ í˜•ë³„ ì²˜ë¦¬ ê·œì¹™ ì˜ˆì‹œ\n\níŒŒì¼ í™•ì¥ì\tì„¤ëª…\tì²˜ë¦¬ ë°©ë²•\n.csv\tì‰¼í‘œë¡œ êµ¬ë¶„ëœ í‘œ í˜•ì‹ ë°ì´í„° íŒŒì¼ì…ë‹ˆë‹¤.\tí–‰(row)ê³¼ ì—´(column)ì„ ê¸°ì¤€ìœ¼ë¡œ í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n.json\tê³„ì¸µì  êµ¬ì¡°ì˜ í‚¤-ê°’ ìŒìœ¼ë¡œ êµ¬ì„±ëœ ë°ì´í„° íŒŒì¼ì…ë‹ˆë‹¤.\têµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê±°ë‚˜ ì¬êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n.pdf\tí…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ê°€ ê³ ì •ëœ í˜•ì‹ìœ¼ë¡œ í¬í•¨ëœ ë¬¸ì„œì…ë‹ˆë‹¤.\tPDF íŒŒì„œë¥¼ í†µí•´ ë³¸ë¬¸ì„ ì¶”ì¶œí•˜ê±°ë‚˜ OCRì„ ì´ìš©í•´ í…ìŠ¤íŠ¸í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n.xlsx\tExcel ì›Œí¬ë¶ í˜•ì‹ì˜ íŒŒì¼ë¡œ, ë‹¤ì¤‘ ì‹œíŠ¸ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\tì…€ ë°ì´í„°ë¥¼ ì½ê³  ê³„ì‚°í•˜ê±°ë‚˜ ì‹œíŠ¸ë³„ë¡œ ì •ë¦¬ëœ ë°ì´í„°ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n.txt\tì„œì‹ ì—†ëŠ” ì¼ë°˜ í…ìŠ¤íŠ¸ íŒŒì¼ì…ë‹ˆë‹¤.\tì¤„ ë‹¨ìœ„ë¡œ ë‚´ìš©ì„ ë¶„ì„í•˜ê±°ë‚˜, í‚¤ì›Œë“œ ì¶”ì¶œ ë° ìš”ì•½ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n.md\të§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ êµ¬ì¡°í™”ëœ í…ìŠ¤íŠ¸ ë¬¸ì„œì…ë‹ˆë‹¤.\tì œëª©, ë¦¬ìŠ¤íŠ¸, ì½”ë“œ ë¸”ë¡ ë“±ì„ êµ¬ë¶„í•˜ì—¬ êµ¬ì¡°í™”ëœ ì •ë³´ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n.docx\tMicrosoft Word ë¬¸ì„œì…ë‹ˆë‹¤.\të³¸ë¬¸ ë‚´ìš©ì„ í…ìŠ¤íŠ¸ë¡œ ì¶”ì¶œí•˜ì—¬ ìš”ì•½í•˜ê±°ë‚˜ í‚¤ì›Œë“œ ì¤‘ì‹¬ ë¶„ì„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n.zip\tí•˜ë‚˜ ì´ìƒì˜ íŒŒì¼ì´ í¬í•¨ëœ ì••ì¶• í˜•ì‹ì˜ íŒŒì¼ì…ë‹ˆë‹¤.\tì••ì¶•ì„ í•´ì œí•˜ì—¬ ê°œë³„ íŒŒì¼ì„ ì‹ë³„ ë° ë¶„ì„í•´ì•¼ í•©ë‹ˆë‹¤.\n.png, .jpg\tì´ë¯¸ì§€ íŒŒì¼ì…ë‹ˆë‹¤.\tOCRì„ í†µí•´ í…ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œí•˜ê±°ë‚˜ ì´ë¯¸ì§€ ì¸ì‹ì„ í†µí•´ ì£¼ìš” íŠ¹ì§•ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n.mp4\tì˜ìƒ íŒŒì¼ì…ë‹ˆë‹¤.\tì˜¤ë””ì˜¤ì—ì„œ í…ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œ(STT)í•˜ê³  ìš”ì•½ ë˜ëŠ” ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.1,"position":[2272,224],"id":"d29147c1-03ad-49a0-aee1-4665789a7e99","name":"AI Agent"},{"parameters":{"content":"## Q. 00ë‹˜ì´ ë³´ë‚¸ ìµœê·¼ 7ì¼ê°„ ë©”ì¼ë“¤ ë¦¬ìŠ¤íŠ¸ì—… í•´ì¤˜","height":80,"width":288},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[2080,640],"id":"b5e0584a-c547-4979-b957-5b81aa844987","name":"Sticky Note1"},{"parameters":{"content":"## Q. ì´ë²ˆì£¼ë§/ë‹¤ìŒì£¼ì— ì¤‘ìš” ì¼ì • ìš”ì•½í•´ì¤˜","height":80,"width":368},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[2416,640],"id":"a1837d6e-4e1c-4727-89be-266ded6afd09","name":"Sticky Note2"},{"parameters":{"operation":"getAll","calendar":{"__rl":true,"value":"datapopcorn@gmail.com","mode":"list","cachedResultName":"datapopcorn@gmail.com"},"returnAll":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Return_All', ``, 'boolean') }}","options":{"timeMin":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', `the date after which to fetch the messages in format YYYY-MM-DDTHH:MM:SS`, 'string') }}"}},"id":"2b33b85d-4b59-41d5-8cac-a1d84c5ab552","name":"Get many events in Google Calendar","type":"n8n-nodes-base.googleCalendarTool","position":[2592,480],"typeVersion":1.1,"credentials":{"googleCalendarOAuth2Api":{"id":"PIzJ5EWqdB2CdQX7","name":"(DP) Google Calendar account"}}},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $('Listen for incoming events').item.json.message.voice.file_id }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true},"id":"a3d07c4a-9832-4cf0-8c72-81abc7b21554"}],"combinator":"and"},"renameOutput":true,"outputKey":"voice"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"7440eb8d-84b9-4959-aefc-9ca0790263e0","leftValue":"={{ $('Listen for incoming events').item.json.message.text }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"text"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"7c88d5de-d191-43b0-9340-1e4ea1cb0403","leftValue":"={{ $('Listen for incoming events').item.json.message.document.mime_type }}","rightValue":"text/csv","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"text/csv"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"9ec6e055-c04b-4f37-ab9b-89c124b64473","leftValue":"={{ $('Listen for incoming events').item.json.message.document.mime_type }}","rightValue":"application/pdf","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"application/pdf"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[1312,192],"id":"cef2cb1c-b753-474f-8dc7-b4433b6bf1cd","name":"Switch"},{"parameters":{"resource":"file","fileId":"={{ $('Listen for incoming events').item.json.message.document.file_id }}","additionalFields":{}},"id":"bd57d458-e75c-4715-8485-47a7ade2f9f9","name":"Get CSV File","type":"n8n-nodes-base.telegram","position":[1552,304],"typeVersion":1.1,"webhookId":"5e204872-cfc3-4a33-b2aa-2d45a69c4d7a","credentials":{"telegramApi":{"id":"9auPNi1bb9FBoAuM","name":"(DP)Telegram account"}}},{"parameters":{"resource":"file","fileId":"={{ $('Listen for incoming events').item.json.message.document.file_id }}","additionalFields":{}},"id":"5c659350-911b-4936-9010-1caec1239c39","name":"Get PDF File","type":"n8n-nodes-base.telegram","position":[1552,512],"typeVersion":1.1,"webhookId":"0ec8ab98-14c8-4341-90b0-a73095cea26f","credentials":{"telegramApi":{"id":"9auPNi1bb9FBoAuM","name":"(DP)Telegram account"}}},{"parameters":{"operation":"pdf","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[1744,512],"id":"a14d360a-494c-4a1b-bb78-0b0da1a4a515","name":"Extract from File (PDF)"},{"parameters":{"options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[1760,304],"id":"22138a7b-257e-448a-a3e4-3259b5c0fe75","name":"Extract from File (CSV)"},{"parameters":{"aggregate":"aggregateAllItemData","destinationFieldName":"text","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[1968,304],"id":"c3cae0df-36cb-40e7-9fb6-c41782787bf3","name":"Aggregate"},{"parameters":{"url":"=https://api.telegram.org/file/bot7808719557:AAFHmCcR0D1cjsSWn3wEfY8m6eVYPidYqio/documents/file_29.png","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1760,720],"id":"9ea53fc6-f148-48b0-a2d8-1c8580ceea98","name":"HTTP Request"},{"parameters":{"url":"=https://api.telegram.org/bot7808719557:AAFHmCcR0D1cjsSWn3wEfY8m6eVYPidYqio/getFile?file_id={{ $('Listen for incoming events').item.json.message.document.file_id }}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1552,720],"id":"938a0751-0a18-46cc-8e10-b8ccfa7b41e6","name":"Get Photo"},{"parameters":{"resource":"image","operation":"analyze","modelId":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"GPT-4O-MINI"},"text":"What's in this image? in Korean","inputType":"base64","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[1968,720],"id":"4f5d67ea-170e-44f6-8bad-0b1e89c133e4","name":"Analyze image","credentials":{"openAiApi":{"id":"b31Z3TKhg2DioVME","name":"(DP) OpenAi account "}}}],"connections":{"Get Email":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Voice or Text":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Get Voice File":{"main":[[{"node":"Speech to Text","type":"main","index":0}]]},"Speech to Text":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Window Buffer Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Listen for incoming events":{"main":[[{"node":"Voice or Text","type":"main","index":0}]]},"AI Agent":{"main":[[{"node":"Telegram","type":"main","index":0}]]},"Get many events in Google Calendar":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Switch":{"main":[[{"node":"Get Voice File","type":"main","index":0}],[{"node":"AI Agent","type":"main","index":0}],[{"node":"Get CSV File","type":"main","index":0}],[{"node":"Get PDF File","type":"main","index":0}],[]]},"Get CSV File":{"main":[[{"node":"Extract from File (CSV)","type":"main","index":0}]]},"Get PDF File":{"main":[[{"node":"Extract from File (PDF)","type":"main","index":0}]]},"Extract from File (CSV)":{"main":[[{"node":"Aggregate","type":"main","index":0}]]},"Extract from File (PDF)":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Aggregate":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"HTTP Request":{"main":[[{"node":"Analyze image","type":"main","index":0}]]},"Get Photo":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]},"Analyze image":{"main":[[{"node":"Telegram","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner","errorWorkflow":"8jEroFBvLE9kP9tm","timeSavedPerExecution":5},"staticData":null,"meta":{"templateId":"2462","templateCredsSetupCompleted":true},"pinData":{},"versionId":"47bff866-48aa-411d-ad76-4d7ad1148452","triggerCount":1,"shared":[{"createdAt":"2025-08-04T06:13:41.649Z","updatedAt":"2025-08-04T06:13:41.649Z","role":"workflow:owner","workflowId":"zF5hgR0IUwLoLjZh","projectId":"sjNgDrdbhRMMF6SK"}],"tags":[{"createdAt":"2025-06-25T04:00:38.130Z","updatedAt":"2025-06-25T04:00:38.130Z","id":"EyGUZypc5DKHVUyY","name":"íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤"}]}