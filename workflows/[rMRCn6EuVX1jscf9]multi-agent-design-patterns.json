{"createdAt":"2025-08-24T23:52:20.578Z","updatedAt":"2025-08-24T23:52:20.578Z","id":"rMRCn6EuVX1jscf9","name":"Multi Agent Design Patterns","active":false,"isArchived":false,"nodes":[{"parameters":{"options":{"systemMessage":"You are a helpful assistant"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[-152,-240],"id":"16d04068-b145-4b02-bf0d-67cfaad73835","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"value":"claude-sonnet-4-20250514","mode":"list","cachedResultName":"Claude Sonnet 4"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[-272,-16],"id":"63090390-fdd7-427f-a229-388267a44819","name":"sonnet-4","credentials":{"anthropicApi":{"id":"DtxarAHwdH4CJjwC","name":"(DP)Anthropic account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1.1,"position":[-16,-16],"id":"75fe774a-c864-4151-b3f4-8a0e05838b9a","name":"Think"},{"parameters":{"model":"sonar-pro","messages":{"message":[{"content":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('message0_Text', ``, 'string') }}"}]},"options":{},"requestOptions":{}},"type":"n8n-nodes-base.perplexityTool","typeVersion":1,"position":[256,192],"id":"79ca5dcc-fe19-4074-a9fe-7bdc854cc490","name":"Message a model in Perplexity","credentials":{"perplexityApi":{"id":"Qof9K5vjxB3P2axj","name":"Perplexity account"}}},{"parameters":{"toolDescription":"Call this research AI Agent when you need real-world research done on a specific topic or entity","text":"={{ $fromAI('Prompt__User_Message_', ``, 'string') }}","options":{}},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[112,-16],"id":"d8eea28f-7146-4615-9f61-53faa2dc1084","name":"Research-Agent"},{"parameters":{"content":"![](https://raw.githubusercontent.com/2innnnn0/assets/refs/heads/master/image/datapopcorn_logo_50px.png)\n\n# Multi Agent (v1.103.0)\n@[youtube](lW5xEm7iSXk)\n\n## 내용요약\n\n🚀 n8n의 새로운 멀티 에이전트 AI 기능 출시!\nn8n 팀이 멀티 에이전트 AI 워크플로우를 구축할 수 있는 **혁신적인 새 기능을 출시**했습니다. 이 기능은 여러 AI 에이전트를 단일 워크플로우 내에서 도구로 활용할 수 있게 하여, 복잡한 작업을 효율적으로 분담하고 관리할 수 있도록 돕습니다. 기존에는 AI 워크플로우를 호출하려면 하위 워크플로우 도구를 사용해야 했지만, 이제는 AI 에이전트 도구 자체를 추가하여 **동일한 워크플로우에서 다른 AI 에이전트를 도구로 직접 사용**할 수 있습니다. 이는 특히 비용 효율성과 모델 선택의 유연성 측면에서 큰 이점을 제공합니다. \n\n💰 비용 효율성 극대화 전략\n새로운 멀티 에이전트 접근 방식의 핵심 이점 중 하나는 비용 절감입니다. 예를 들어, 분석가 에이전트(상위 에이전트)는 **비교적 비싼 Sonnet 4 모델**을 사용하여 최종 텍스트 출력을 종합하는 데 집중하고, 연구 에이전트(하위 에이전트)는 Perplexity 검색과 같은 대량의 토큰을 소비하는 작업을 **훨씬 저렴한 GPT-4.1 나노 모델(Sonnet보다 약 37배 저렴)**로 처리할 수 있습니다. 이러한 분업을 통해 **적합한 작업에 적합한 모델을 사용**함으로써 전체 토큰 소비 비용을 크게 줄일 수 있습니다. 이는 특히 실제 세계에서 많은 토큰을 가져와야 하는 연구나 데이터 수집 작업에 매우 유용합니다. \n\n🛠️ AI 에이전트 도구 사용 방법\nAI 에이전트 도구에 액세스하려면 n8n 워크플로우에서 더하기 기호를 클릭한 다음 검색하여 추가할 수 있습니다. 기존의 Perplexity 연결을 끊고 대신 연구 에이전트를 연결하여 **분석가 에이전트가 연구 에이전트를 호출**하도록 설정할 수 있습니다. 연구 에이전트는 다른 도구와 마찬가지로 명확한 설명과 사용자 프롬프트를 포함합니다. 상위 AI 에이전트가 이 도구를 실행하면, 필요한 검색 쿼리가 자동으로 채워져 효율적인 작업 흐름을 가능하게 합니다. \n\n🧠 중첩된 에이전트와 확장성\nn8n의 새로운 기능은 **다중 에이전트 워크플로우를 여러 계층으로 확장**할 수 있는 가능성을 열어줍니다. 하나의 에이전트가 다른 AI 에이전트를 호출하지 못할 이유가 없으며, n8n 팀은 이미 이러한 중첩된 구조를 여러 계층으로 테스트했으며 성능 저하가 없음을 확인했습니다. 이는 문제를 분리하고, 혼동을 피하며, **올바른 작업에 적합한 에이전트를 사용하여 효율성을 극대화**할 수 있게 합니다. 예를 들어, 대량의 외부 데이터를 처리해야 하는 경우, 이를 저렴한 모델로 처리한 다음 상위 에이전트가 다음 단계를 알리는 데 필요한 요약 정보만 얻도록 설정할 수 있습니다. \n\n📈 실제 사용 사례 및 모범 사례\n로그를 통해 부모 에이전트와 실행된 하위 에이전트 도구, 그리고 그 안의 단계들을 확인할 수 있습니다. 하위 에이전트가 반환하는 롤업 정보는 **나노 모델이 요약한 내용**이므로 Perplexity에서 얻는 원시 입력과는 다를 수 있습니다. 이러한 멀티 에이전트 워크플로우의 가장 큰 장점은 비용 절감뿐만 아니라 **적합한 작업에 적합한 모델을 선택할 수 있는 유연성**입니다. 특정 모델은 창작과 텍스트 출력에 강하고, 다른 모델은 도구 호출에 뛰어날 수 있어, 각 에이전트의 강점을 최대한 활용할 수 있습니다. 이 기능은 이제 막 출시되었으므로, 언제 이 도구를 사용하고 언제 기존 워크플로우를 사용해야 하는지에 대한 **모범 사례는 계속해서 발전**하고 있습니다. n8n 팀은 사용자들이 이 강력한 도구를 어떻게 활용할지 큰 기대를 걸고 있습니다. \n\nLiveWiki, 유튜브 속 핵심 내용을 10초 만에!\nhttps://livewiki.com/ko/content/n8n-ai-agent-tool","height":1504,"width":464},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-1024,-608],"id":"7319dfb7-a6f6-44a0-8d52-c2e9e29c2c4d","name":"Sticky Note"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[128,192],"id":"e78d4eaf-f2e8-4785-b368-42639099340d","name":"gpt-4.1-mini","credentials":{"openAiApi":{"id":"ledUugAWoH4Uadky","name":"(fastcampus)OpenAi account"}}},{"parameters":{"options":{},"path":"824883a0-f5a5-448f-9db4-05e41704ecec"},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.3,"position":[-496,-240],"id":"633dd74f-b776-436b-965a-392b9676a260","name":"When chat message received","webhookId":"824883a0-f5a5-448f-9db4-05e41704ecec"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[-144,-16],"id":"62033860-b23c-49e1-aa5c-a0d51c744c6a","name":"Simple Memory"}],"connections":{"sonnet-4":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Think":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Message a model in Perplexity":{"ai_tool":[[{"node":"Research-Agent","type":"ai_tool","index":0}]]},"Research-Agent":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"gpt-4.1-mini":{"ai_languageModel":[[{"node":"Research-Agent","type":"ai_languageModel","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"fc974e12-3687-4cd0-bded-7fcdfdb35a23","triggerCount":0,"shared":[{"createdAt":"2025-08-24T23:52:20.578Z","updatedAt":"2025-08-24T23:52:20.578Z","role":"workflow:owner","workflowId":"rMRCn6EuVX1jscf9","projectId":"sjNgDrdbhRMMF6SK"}],"tags":[{"createdAt":"2025-06-25T04:00:38.130Z","updatedAt":"2025-06-25T04:00:38.130Z","id":"EyGUZypc5DKHVUyY","name":"패스트캠퍼스"}]}