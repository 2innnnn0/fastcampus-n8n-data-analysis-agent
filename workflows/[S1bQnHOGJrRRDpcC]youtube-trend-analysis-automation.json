{"createdAt":"2025-09-03T04:50:32.297Z","updatedAt":"2025-09-03T06:54:04.215Z","id":"S1bQnHOGJrRRDpcC","name":"YouTube Trend Analysis Automation","active":false,"isArchived":false,"nodes":[{"parameters":{},"id":"trigger","name":"Weekly Schedule","type":"n8n-nodes-base.cron","position":[208,304],"typeVersion":1},{"parameters":{"documentId":{"__rl":true,"mode":"list","value":""},"sheetName":{"__rl":true,"mode":"list","value":""}},"id":"sheets-read","name":"Read YouTube Data","type":"n8n-nodes-base.googleSheets","position":[400,304],"typeVersion":4,"credentials":{"googleSheetsOAuth2Api":{"id":"91ar5Cg6JmPJpWXZ","name":"(DP) Google Sheets account"}}},{"parameters":{"jsCode":"// ë°ì´í„° ì „ì²˜ë¦¬\nconst processedData = [];\n\nfor (const item of $input.all()) {\n  const data = item.json;\n  \n  // ì¡°íšŒìˆ˜ ë³€í™˜ (1.3M -> 1300000)\n  function convertViews(viewStr) {\n    if (!viewStr) return 0;\n    const numStr = viewStr.toString().toLowerCase();\n    if (numStr.includes('k')) {\n      return parseFloat(numStr.replace('k', '')) * 1000;\n    } else if (numStr.includes('m')) {\n      return parseFloat(numStr.replace('m', '')) * 1000000;\n    } else if (numStr.includes('b')) {\n      return parseFloat(numStr.replace('b', '')) * 1000000000;\n    }\n    return parseInt(numStr.replace(/[^0-9]/g, '')) || 0;\n  }\n  \n  // êµ¬ë…ì ìˆ˜ ë³€í™˜\n  function convertSubscribers(subStr) {\n    return convertViews(subStr);\n  }\n  \n  // ê²Œì‹œì¼ ë³€í™˜ (x days ago -> ì‹¤ì œ ë‚ ì§œ)\n  function convertPublishDate(dateStr) {\n    if (!dateStr) return new Date().toISOString().split('T')[0];\n    \n    const today = new Date();\n    if (dateStr.includes('day')) {\n      const days = parseInt(dateStr.match(/\\d+/)?.[0] || '0');\n      const publishDate = new Date(today.getTime() - (days * 24 * 60 * 60 * 1000));\n      return publishDate.toISOString().split('T')[0];\n    } else if (dateStr.includes('week')) {\n      const weeks = parseInt(dateStr.match(/\\d+/)?.[0] || '0');\n      const publishDate = new Date(today.getTime() - (weeks * 7 * 24 * 60 * 60 * 1000));\n      return publishDate.toISOString().split('T')[0];\n    } else if (dateStr.includes('month')) {\n      const months = parseInt(dateStr.match(/\\d+/)?.[0] || '0');\n      const publishDate = new Date(today.getFullYear(), today.getMonth() - months, today.getDate());\n      return publishDate.toISOString().split('T')[0];\n    }\n    return dateStr;\n  }\n  \n  const processed = {\n    channel: data.channel || data['ì±„ë„ëª…'] || '',\n    title: data.title || data['ì œëª©'] || '',\n    views: convertViews(data.views || data['ì¡°íšŒìˆ˜'] || '0'),\n    subscribers: convertSubscribers(data.subscribers || data['êµ¬ë…ììˆ˜'] || '0'),\n    publishDate: convertPublishDate(data.publishDate || data['ê²Œì‹œì¼'] || ''),\n    collectDate: new Date().toISOString().split('T')[0],\n    originalViews: data.views || data['ì¡°íšŒìˆ˜'] || '',\n    originalSubscribers: data.subscribers || data['êµ¬ë…ììˆ˜'] || '',\n    originalPublishDate: data.publishDate || data['ê²Œì‹œì¼'] || ''\n  };\n  \n  // ì¸ê¸°ë„ ì§€ìˆ˜ ê³„ì‚° (ì¡°íšŒìˆ˜/êµ¬ë…ììˆ˜ ë¹„ìœ¨)\n  processed.popularityRatio = processed.subscribers > 0 ? processed.views / processed.subscribers : 0;\n  \n  processedData.push(processed);\n}\n\nreturn processedData.map(item => ({json: item}));"},"id":"preprocess","name":"Data Preprocessing","type":"n8n-nodes-base.code","position":[608,304],"typeVersion":2},{"parameters":{"jsCode":"// íŠ¸ë Œë“œ ë¶„ì„\nconst allData = $input.all().map(item => item.json);\n\n// 1. ì¸ê¸° ê¸‰ìƒìŠ¹ ì½˜í…ì¸  ì¶”ì¶œ (ìµœê·¼ 7ì¼ ì´ë‚´, ë†’ì€ ì¸ê¸°ë„ ë¹„ìœ¨)\nconst recentContent = allData.filter(item => {\n  const publishDate = new Date(item.publishDate);\n  const sevenDaysAgo = new Date();\n  sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n  return publishDate >= sevenDaysAgo;\n});\n\nconst trendingContent = recentContent\n  .sort((a, b) => b.popularityRatio - a.popularityRatio)\n  .slice(0, 10);\n\n// 2. ì±„ë„ë³„ í†µê³„\nconst channelStats = {};\nallData.forEach(item => {\n  if (!channelStats[item.channel]) {\n    channelStats[item.channel] = {\n      channel: item.channel,\n      totalViews: 0,\n      maxViews: 0,\n      contentCount: 0,\n      subscribers: item.subscribers\n    };\n  }\n  \n  channelStats[item.channel].totalViews += item.views;\n  channelStats[item.channel].maxViews = Math.max(channelStats[item.channel].maxViews, item.views);\n  channelStats[item.channel].contentCount += 1;\n});\n\n// í‰ê·  ì¡°íšŒìˆ˜ ê³„ì‚°\nObject.keys(channelStats).forEach(channel => {\n  channelStats[channel].avgViews = channelStats[channel].totalViews / channelStats[channel].contentCount;\n  channelStats[channel].avgVsMax = channelStats[channel].avgViews / channelStats[channel].maxViews;\n});\n\n// 3. Top ì½˜í…ì¸  ìˆœìœ„\nconst topContent = allData\n  .sort((a, b) => b.views - a.views)\n  .slice(0, 20);\n\n// ë¶„ì„ ê²°ê³¼ ë°˜í™˜\nconst analysisResult = {\n  summary: {\n    totalContent: allData.length,\n    totalChannels: Object.keys(channelStats).length,\n    avgViews: allData.reduce((sum, item) => sum + item.views, 0) / allData.length,\n    collectDate: new Date().toISOString().split('T')[0]\n  },\n  trendingContent: trendingContent,\n  channelStats: Object.values(channelStats),\n  topContent: topContent,\n  rawData: allData\n};\n\nreturn [{json: analysisResult}];"},"id":"analysis","name":"Trend Analysis","type":"n8n-nodes-base.code","position":[800,304],"typeVersion":2},{"parameters":{"model":"gpt-4","prompt":"ë‹¤ìŒ ìœ íŠœë¸Œ íŠ¸ë Œë“œ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì£¼ì œ/í†¤/í¬ë§·ì„ ë¶„ë¥˜í•´ì£¼ì„¸ìš”:\n\nìƒìœ„ ì½˜í…ì¸ :\n{{$json.topContent.slice(0, 10).map(item => `- ${item.title} (${item.channel}, ì¡°íšŒìˆ˜: ${item.views.toLocaleString()})`).join('\\n')}}\n\níŠ¸ë Œë”© ì½˜í…ì¸ :\n{{$json.trendingContent.slice(0, 5).map(item => `- ${item.title} (ì¸ê¸°ë„: ${item.popularityRatio.toFixed(2)})`).join('\\n')}}\n\në‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë¶„ì„í•´ì£¼ì„¸ìš”:\n1. ì£¼ìš” ì£¼ì œ ì¹´í…Œê³ ë¦¬ (ì˜ˆ: ì—”í„°í…Œì¸ë¨¼íŠ¸, êµìœ¡, ë‰´ìŠ¤ ë“±)\n2. í†¤ ë¶„ì„ (ì˜ˆ: ìœ ë¨¸ëŸ¬ìŠ¤, ì§„ì§€í•¨, ê°ì •ì  ë“±)\n3. ì œëª© í¬ë§· íŒ¨í„´ (ì˜ˆ: ì§ˆë¬¸í˜•, ì„ ì–¸í˜•, ë¦¬ìŠ¤íŠ¸í˜• ë“±)\n4. íŠ¸ë Œë“œ í‚¤ì›Œë“œ\n5. ì£¼ê°„ íŠ¸ë Œë“œ ìš”ì•½ (3-4ë¬¸ì¥)","options":{},"requestOptions":{}},"id":"claude-analysis","name":"Content Title Analysis","type":"n8n-nodes-base.openAi","position":[1008,304],"typeVersion":1},{"parameters":{"jsCode":"// ì°¨íŠ¸ ë°ì´í„° ì¤€ë¹„\nconst analysisData = $input.first().json;\nconst claudeAnalysis = $input.all()[1]?.json?.choices?.[0]?.message?.content || '';\n\n// Top ì½˜í…ì¸  ì°¨íŠ¸ ë°ì´í„°\nconst topContentChart = {\n  type: 'bar',\n  data: {\n    labels: analysisData.topContent.slice(0, 10).map(item => item.title.substring(0, 30) + '...'),\n    datasets: [{\n      label: 'ì¡°íšŒìˆ˜',\n      data: analysisData.topContent.slice(0, 10).map(item => item.views),\n      backgroundColor: 'rgba(255, 99, 132, 0.2)',\n      borderColor: 'rgba(255, 99, 132, 1)',\n      borderWidth: 1\n    }]\n  },\n  options: {\n    responsive: true,\n    plugins: {\n      title: {\n        display: true,\n        text: 'Top 10 YouTube ì½˜í…ì¸  (ì¡°íšŒìˆ˜ ê¸°ì¤€)'\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  }\n};\n\n// ì±„ë„ë³„ í‰ê·  vs ìµœê³  ì¡°íšŒìˆ˜ ë¹„êµ\nconst channelComparisonChart = {\n  type: 'scatter',\n  data: {\n    datasets: [{\n      label: 'ì±„ë„ë³„ í‰ê·  vs ìµœê³  ì¡°íšŒìˆ˜',\n      data: analysisData.channelStats.slice(0, 15).map(channel => ({\n        x: channel.avgViews,\n        y: channel.maxViews,\n        label: channel.channel\n      })),\n      backgroundColor: 'rgba(54, 162, 235, 0.2)',\n      borderColor: 'rgba(54, 162, 235, 1)'\n    }]\n  },\n  options: {\n    responsive: true,\n    plugins: {\n      title: {\n        display: true,\n        text: 'ì±„ë„ë³„ í‰ê·  ì¡°íšŒìˆ˜ vs ìµœê³  ì¡°íšŒìˆ˜'\n      }\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'í‰ê·  ì¡°íšŒìˆ˜'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'ìµœê³  ì¡°íšŒìˆ˜'\n        }\n      }\n    }\n  }\n};\n\nconst result = {\n  analysisData: analysisData,\n  claudeAnalysis: claudeAnalysis,\n  charts: {\n    topContent: topContentChart,\n    channelComparison: channelComparisonChart\n  }\n};\n\nreturn [{json: result}];"},"id":"chart-data","name":"Prepare Chart Data","type":"n8n-nodes-base.code","position":[1200,208],"typeVersion":2},{"parameters":{"text":"ğŸ“Š *ì£¼ê°„ ìœ íŠœë¸Œ íŠ¸ë Œë“œ ë¶„ì„ ë¦¬í¬íŠ¸*\n\n*ğŸ“ˆ ìš”ì•½ í†µê³„*\nâ€¢ ì´ ì½˜í…ì¸ : {{$json.analysisData.summary.totalContent}}ê°œ\nâ€¢ ë¶„ì„ ì±„ë„: {{$json.analysisData.summary.totalChannels}}ê°œ\nâ€¢ í‰ê·  ì¡°íšŒìˆ˜: {{$json.analysisData.summary.avgViews.toLocaleString()}}íšŒ\nâ€¢ ìˆ˜ì§‘ì¼: {{$json.analysisData.summary.collectDate}}\n\n*ğŸ”¥ ì¸ê¸° ê¸‰ìƒìŠ¹ ì½˜í…ì¸  Top 3*\n{{$json.analysisData.trendingContent.slice(0, 3).map((item, i) => `${i + 1}. ${item.title} (${item.channel})\n   ì¡°íšŒìˆ˜: ${item.views.toLocaleString()} | ì¸ê¸°ë„: ${item.popularityRatio.toFixed(2)}`).join('\\n\\n')}}\n\n*ğŸ† ìµœê³  ì¡°íšŒìˆ˜ ì½˜í…ì¸  Top 3*\n{{$json.analysisData.topContent.slice(0, 3).map((item, i) => `${i + 1}. ${item.title} (${item.channel})\n   ì¡°íšŒìˆ˜: ${item.views.toLocaleString()}`).join('\\n\\n')}}\n\n*ğŸ¤– AI ë¶„ì„ ê²°ê³¼*\n{{$json.claudeAnalysis}}\n\n---\n_ìë™ ìƒì„±ëœ ë¦¬í¬íŠ¸ì…ë‹ˆë‹¤. ë” ìì„¸í•œ ë¶„ì„ì´ í•„ìš”í•˜ì‹œë©´ ëŒ“ê¸€ë¡œ ìš”ì²­í•´ì£¼ì„¸ìš”!_","otherOptions":{}},"id":"slack-report","name":"Send Slack Report","type":"n8n-nodes-base.slack","position":[1200,400],"typeVersion":2,"webhookId":"c67337b1-b3ca-44c3-b528-a29a0ff04160"},{"parameters":{"operation":"append","documentId":"1p7Nxu1uYdn12MJH9M-PwiIbf6htiHgMr-r-M_1hT0Mk","sheetName":"Analysis_Results","options":{}},"id":"save-results","name":"Save Analysis Results","type":"n8n-nodes-base.googleSheets","position":[1408,304],"typeVersion":4},{"parameters":{},"id":"c475b7f5-3051-4f0e-bf28-4c99a8877089","name":"Weekly Schedule1","type":"n8n-nodes-base.cron","position":[176,928],"typeVersion":1,"disabled":true},{"parameters":{"documentId":"1p7Nxu1uYdn12MJH9M-PwiIbf6htiHgMr-r-M_1hT0Mk","sheetName":"Sheet1","options":{}},"id":"e5270c1d-8878-4f89-8dc4-46db01d8af3e","name":"Read YouTube Data1","type":"n8n-nodes-base.googleSheets","position":[368,928],"typeVersion":4,"disabled":true},{"parameters":{"jsCode":"// ë°ì´í„° ì „ì²˜ë¦¬\nconst processedData = [];\n\nfor (const item of $input.all()) {\n  const data = item.json;\n  \n  // ì¡°íšŒìˆ˜ ë³€í™˜ (1.3M -> 1300000)\n  function convertViews(viewStr) {\n    if (!viewStr) return 0;\n    const numStr = viewStr.toString().toLowerCase();\n    if (numStr.includes('k')) {\n      return parseFloat(numStr.replace('k', '')) * 1000;\n    } else if (numStr.includes('m')) {\n      return parseFloat(numStr.replace('m', '')) * 1000000;\n    } else if (numStr.includes('b')) {\n      return parseFloat(numStr.replace('b', '')) * 1000000000;\n    }\n    return parseInt(numStr.replace(/[^0-9]/g, '')) || 0;\n  }\n  \n  // êµ¬ë…ì ìˆ˜ ë³€í™˜\n  function convertSubscribers(subStr) {\n    return convertViews(subStr);\n  }\n  \n  // ê²Œì‹œì¼ ë³€í™˜ (x days ago -> ì‹¤ì œ ë‚ ì§œ)\n  function convertPublishDate(dateStr) {\n    if (!dateStr) return new Date().toISOString().split('T')[0];\n    \n    const today = new Date();\n    if (dateStr.includes('day')) {\n      const days = parseInt(dateStr.match(/\\d+/)?.[0] || '0');\n      const publishDate = new Date(today.getTime() - (days * 24 * 60 * 60 * 1000));\n      return publishDate.toISOString().split('T')[0];\n    } else if (dateStr.includes('week')) {\n      const weeks = parseInt(dateStr.match(/\\d+/)?.[0] || '0');\n      const publishDate = new Date(today.getTime() - (weeks * 7 * 24 * 60 * 60 * 1000));\n      return publishDate.toISOString().split('T')[0];\n    } else if (dateStr.includes('month')) {\n      const months = parseInt(dateStr.match(/\\d+/)?.[0] || '0');\n      const publishDate = new Date(today.getFullYear(), today.getMonth() - months, today.getDate());\n      return publishDate.toISOString().split('T')[0];\n    }\n    return dateStr;\n  }\n  \n  const processed = {\n    channel: data.channel || data['ì±„ë„ëª…'] || '',\n    title: data.title || data['ì œëª©'] || '',\n    views: convertViews(data.views || data['ì¡°íšŒìˆ˜'] || '0'),\n    subscribers: convertSubscribers(data.subscribers || data['êµ¬ë…ììˆ˜'] || '0'),\n    publishDate: convertPublishDate(data.publishDate || data['ê²Œì‹œì¼'] || ''),\n    collectDate: new Date().toISOString().split('T')[0],\n    originalViews: data.views || data['ì¡°íšŒìˆ˜'] || '',\n    originalSubscribers: data.subscribers || data['êµ¬ë…ììˆ˜'] || '',\n    originalPublishDate: data.publishDate || data['ê²Œì‹œì¼'] || ''\n  };\n  \n  // ì¸ê¸°ë„ ì§€ìˆ˜ ê³„ì‚° (ì¡°íšŒìˆ˜/êµ¬ë…ììˆ˜ ë¹„ìœ¨)\n  processed.popularityRatio = processed.subscribers > 0 ? processed.views / processed.subscribers : 0;\n  \n  processedData.push(processed);\n}\n\nreturn processedData.map(item => ({json: item}));"},"id":"c91d1b11-2685-46e1-b2ca-c01cebe8398f","name":"Data Preprocessing1","type":"n8n-nodes-base.code","position":[576,928],"typeVersion":2,"disabled":true},{"parameters":{"jsCode":"// íŠ¸ë Œë“œ ë¶„ì„\nconst allData = $input.all().map(item => item.json);\n\n// 1. ì¸ê¸° ê¸‰ìƒìŠ¹ ì½˜í…ì¸  ì¶”ì¶œ (ìµœê·¼ 7ì¼ ì´ë‚´, ë†’ì€ ì¸ê¸°ë„ ë¹„ìœ¨)\nconst recentContent = allData.filter(item => {\n  const publishDate = new Date(item.publishDate);\n  const sevenDaysAgo = new Date();\n  sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n  return publishDate >= sevenDaysAgo;\n});\n\nconst trendingContent = recentContent\n  .sort((a, b) => b.popularityRatio - a.popularityRatio)\n  .slice(0, 10);\n\n// 2. ì±„ë„ë³„ í†µê³„\nconst channelStats = {};\nallData.forEach(item => {\n  if (!channelStats[item.channel]) {\n    channelStats[item.channel] = {\n      channel: item.channel,\n      totalViews: 0,\n      maxViews: 0,\n      contentCount: 0,\n      subscribers: item.subscribers\n    };\n  }\n  \n  channelStats[item.channel].totalViews += item.views;\n  channelStats[item.channel].maxViews = Math.max(channelStats[item.channel].maxViews, item.views);\n  channelStats[item.channel].contentCount += 1;\n});\n\n// í‰ê·  ì¡°íšŒìˆ˜ ê³„ì‚°\nObject.keys(channelStats).forEach(channel => {\n  channelStats[channel].avgViews = channelStats[channel].totalViews / channelStats[channel].contentCount;\n  channelStats[channel].avgVsMax = channelStats[channel].avgViews / channelStats[channel].maxViews;\n});\n\n// 3. Top ì½˜í…ì¸  ìˆœìœ„\nconst topContent = allData\n  .sort((a, b) => b.views - a.views)\n  .slice(0, 20);\n\n// ë¶„ì„ ê²°ê³¼ ë°˜í™˜\nconst analysisResult = {\n  summary: {\n    totalContent: allData.length,\n    totalChannels: Object.keys(channelStats).length,\n    avgViews: allData.reduce((sum, item) => sum + item.views, 0) / allData.length,\n    collectDate: new Date().toISOString().split('T')[0]\n  },\n  trendingContent: trendingContent,\n  channelStats: Object.values(channelStats),\n  topContent: topContent,\n  rawData: allData\n};\n\nreturn [{json: analysisResult}];"},"id":"0ff23959-ee6f-4b87-bb59-d9f4caec785a","name":"Trend Analysis1","type":"n8n-nodes-base.code","position":[768,928],"typeVersion":2,"disabled":true},{"parameters":{"model":"gpt-4","prompt":"ë‹¤ìŒ ìœ íŠœë¸Œ íŠ¸ë Œë“œ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì£¼ì œ/í†¤/í¬ë§·ì„ ë¶„ë¥˜í•´ì£¼ì„¸ìš”:\n\nìƒìœ„ ì½˜í…ì¸ :\n{{$json.topContent.slice(0, 10).map(item => `- ${item.title} (${item.channel}, ì¡°íšŒìˆ˜: ${item.views.toLocaleString()})`).join('\\n')}}\n\níŠ¸ë Œë”© ì½˜í…ì¸ :\n{{$json.trendingContent.slice(0, 5).map(item => `- ${item.title} (ì¸ê¸°ë„: ${item.popularityRatio.toFixed(2)})`).join('\\n')}}\n\në‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë¶„ì„í•´ì£¼ì„¸ìš”:\n1. ì£¼ìš” ì£¼ì œ ì¹´í…Œê³ ë¦¬ (ì˜ˆ: ì—”í„°í…Œì¸ë¨¼íŠ¸, êµìœ¡, ë‰´ìŠ¤ ë“±)\n2. í†¤ ë¶„ì„ (ì˜ˆ: ìœ ë¨¸ëŸ¬ìŠ¤, ì§„ì§€í•¨, ê°ì •ì  ë“±)\n3. ì œëª© í¬ë§· íŒ¨í„´ (ì˜ˆ: ì§ˆë¬¸í˜•, ì„ ì–¸í˜•, ë¦¬ìŠ¤íŠ¸í˜• ë“±)\n4. íŠ¸ë Œë“œ í‚¤ì›Œë“œ\n5. ì£¼ê°„ íŠ¸ë Œë“œ ìš”ì•½ (3-4ë¬¸ì¥)","options":{},"requestOptions":{}},"id":"0b7a0292-1343-4698-8fd3-38479818c60d","name":"Content Title Analysis1","type":"n8n-nodes-base.openAi","position":[976,928],"typeVersion":1,"disabled":true},{"parameters":{"jsCode":"// ì°¨íŠ¸ ë°ì´í„° ì¤€ë¹„\nconst analysisData = $input.first().json;\nconst claudeAnalysis = $input.all()[1]?.json?.choices?.[0]?.message?.content || '';\n\n// Top ì½˜í…ì¸  ì°¨íŠ¸ ë°ì´í„°\nconst topContentChart = {\n  type: 'bar',\n  data: {\n    labels: analysisData.topContent.slice(0, 10).map(item => item.title.substring(0, 30) + '...'),\n    datasets: [{\n      label: 'ì¡°íšŒìˆ˜',\n      data: analysisData.topContent.slice(0, 10).map(item => item.views),\n      backgroundColor: 'rgba(255, 99, 132, 0.2)',\n      borderColor: 'rgba(255, 99, 132, 1)',\n      borderWidth: 1\n    }]\n  },\n  options: {\n    responsive: true,\n    plugins: {\n      title: {\n        display: true,\n        text: 'Top 10 YouTube ì½˜í…ì¸  (ì¡°íšŒìˆ˜ ê¸°ì¤€)'\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  }\n};\n\n// ì±„ë„ë³„ í‰ê·  vs ìµœê³  ì¡°íšŒìˆ˜ ë¹„êµ\nconst channelComparisonChart = {\n  type: 'scatter',\n  data: {\n    datasets: [{\n      label: 'ì±„ë„ë³„ í‰ê·  vs ìµœê³  ì¡°íšŒìˆ˜',\n      data: analysisData.channelStats.slice(0, 15).map(channel => ({\n        x: channel.avgViews,\n        y: channel.maxViews,\n        label: channel.channel\n      })),\n      backgroundColor: 'rgba(54, 162, 235, 0.2)',\n      borderColor: 'rgba(54, 162, 235, 1)'\n    }]\n  },\n  options: {\n    responsive: true,\n    plugins: {\n      title: {\n        display: true,\n        text: 'ì±„ë„ë³„ í‰ê·  ì¡°íšŒìˆ˜ vs ìµœê³  ì¡°íšŒìˆ˜'\n      }\n    },\n    scales: {\n      x: {\n        display: true,\n        title: {\n          display: true,\n          text: 'í‰ê·  ì¡°íšŒìˆ˜'\n        }\n      },\n      y: {\n        display: true,\n        title: {\n          display: true,\n          text: 'ìµœê³  ì¡°íšŒìˆ˜'\n        }\n      }\n    }\n  }\n};\n\nconst result = {\n  analysisData: analysisData,\n  claudeAnalysis: claudeAnalysis,\n  charts: {\n    topContent: topContentChart,\n    channelComparison: channelComparisonChart\n  }\n};\n\nreturn [{json: result}];"},"id":"5c45698b-eac2-44ab-ba04-5eb34378bf9e","name":"Prepare Chart Data1","type":"n8n-nodes-base.code","position":[1168,832],"typeVersion":2,"disabled":true},{"parameters":{"text":"ğŸ“Š *ì£¼ê°„ ìœ íŠœë¸Œ íŠ¸ë Œë“œ ë¶„ì„ ë¦¬í¬íŠ¸*\n\n*ğŸ“ˆ ìš”ì•½ í†µê³„*\nâ€¢ ì´ ì½˜í…ì¸ : {{$json.analysisData.summary.totalContent}}ê°œ\nâ€¢ ë¶„ì„ ì±„ë„: {{$json.analysisData.summary.totalChannels}}ê°œ\nâ€¢ í‰ê·  ì¡°íšŒìˆ˜: {{$json.analysisData.summary.avgViews.toLocaleString()}}íšŒ\nâ€¢ ìˆ˜ì§‘ì¼: {{$json.analysisData.summary.collectDate}}\n\n*ğŸ”¥ ì¸ê¸° ê¸‰ìƒìŠ¹ ì½˜í…ì¸  Top 3*\n{{$json.analysisData.trendingContent.slice(0, 3).map((item, i) => `${i + 1}. ${item.title} (${item.channel})\n   ì¡°íšŒìˆ˜: ${item.views.toLocaleString()} | ì¸ê¸°ë„: ${item.popularityRatio.toFixed(2)}`).join('\\n\\n')}}\n\n*ğŸ† ìµœê³  ì¡°íšŒìˆ˜ ì½˜í…ì¸  Top 3*\n{{$json.analysisData.topContent.slice(0, 3).map((item, i) => `${i + 1}. ${item.title} (${item.channel})\n   ì¡°íšŒìˆ˜: ${item.views.toLocaleString()}`).join('\\n\\n')}}\n\n*ğŸ¤– AI ë¶„ì„ ê²°ê³¼*\n{{$json.claudeAnalysis}}\n\n---\n_ìë™ ìƒì„±ëœ ë¦¬í¬íŠ¸ì…ë‹ˆë‹¤. ë” ìì„¸í•œ ë¶„ì„ì´ í•„ìš”í•˜ì‹œë©´ ëŒ“ê¸€ë¡œ ìš”ì²­í•´ì£¼ì„¸ìš”!_","otherOptions":{}},"id":"22d8539d-2ae5-46a6-9955-86b9859a39d8","name":"Send Slack Report1","type":"n8n-nodes-base.slack","position":[1168,1024],"typeVersion":2,"webhookId":"c67337b1-b3ca-44c3-b528-a29a0ff04160","disabled":true},{"parameters":{"operation":"append","documentId":"1p7Nxu1uYdn12MJH9M-PwiIbf6htiHgMr-r-M_1hT0Mk","sheetName":"Analysis_Results","columns":{"mappingMode":"defineBelow","value":{}},"options":{}},"id":"78a4d4e9-8f81-4717-ac9f-e764262b6047","name":"Save Analysis Results1","type":"n8n-nodes-base.googleSheets","position":[1376,928],"typeVersion":4,"disabled":true}],"connections":{"Weekly Schedule":{"main":[[{"node":"Read YouTube Data","type":"main","index":0}]]},"Read YouTube Data":{"main":[[{"node":"Data Preprocessing","type":"main","index":0}]]},"Data Preprocessing":{"main":[[{"node":"Trend Analysis","type":"main","index":0}]]},"Trend Analysis":{"main":[[{"node":"Content Title Analysis","type":"main","index":0}],[{"node":"Prepare Chart Data","type":"main","index":0}]]},"Content Title Analysis":{"main":[[{"node":"Prepare Chart Data","type":"main","index":1}]]},"Prepare Chart Data":{"main":[[{"node":"Send Slack Report","type":"main","index":0}],[{"node":"Save Analysis Results","type":"main","index":0}]]},"Weekly Schedule1":{"main":[[{"node":"Read YouTube Data1","type":"main","index":0}]]},"Read YouTube Data1":{"main":[[{"node":"Data Preprocessing1","type":"main","index":0}]]},"Data Preprocessing1":{"main":[[{"node":"Trend Analysis1","type":"main","index":0}]]},"Trend Analysis1":{"main":[[{"node":"Content Title Analysis1","type":"main","index":0}]]},"Prepare Chart Data1":{"main":[[{"node":"Send Slack Report1","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveDataErrorExecution":"all","saveDataSuccessExecution":"all","saveManualExecutions":true,"saveExecutionProgress":true},"staticData":null,"meta":null,"pinData":{},"versionId":"6e33eb3a-54d8-44a4-9936-e993e04ec334","triggerCount":0,"shared":[{"createdAt":"2025-09-03T04:50:32.297Z","updatedAt":"2025-09-03T04:50:32.297Z","role":"workflow:owner","workflowId":"S1bQnHOGJrRRDpcC","projectId":"sjNgDrdbhRMMF6SK"}],"tags":[{"createdAt":"2025-06-25T04:00:38.130Z","updatedAt":"2025-06-25T04:00:38.130Z","id":"EyGUZypc5DKHVUyY","name":"íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤"}]}