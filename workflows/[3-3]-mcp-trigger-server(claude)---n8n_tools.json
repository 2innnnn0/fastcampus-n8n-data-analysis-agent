{"createdAt":"2025-07-02T03:17:31.524Z","updatedAt":"2025-10-15T01:39:58.802Z","id":"tKByJonrG0OX4O7S","name":"[3-3] MCP Trigger Server(Claude) - n8n_tools","active":true,"isArchived":false,"nodes":[{"parameters":{"path":"n8n_tools"},"type":"@n8n/n8n-nodes-langchain.mcpTrigger","typeVersion":1,"position":[-512,80],"id":"a4d1b4b1-8173-4cf5-8993-d4cf3778075d","name":"MCP Server Trigger","webhookId":"92b3a0c3-3a06-44f8-9295-fbcf8c3eef15"},{"parameters":{"calendar":{"__rl":true,"value":"datapopcorn@gmail.com","mode":"list","cachedResultName":"datapopcorn@gmail.com"},"start":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}","end":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}","additionalFields":{"description":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Description', `반드시 [n8n]을 붙여줘.`, 'string') }}","summary":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', `반드시 [n8n]을 붙여줘.`, 'string') }}"}},"type":"n8n-nodes-base.googleCalendarTool","typeVersion":1.3,"position":[-896,384],"id":"7c15eb22-2d73-417c-9756-3c58bf88304f","name":"Create_Event","credentials":{"googleCalendarOAuth2Api":{"id":"RRBFdkbGBHvDnUzE","name":"Google Calendar account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolCalculator","typeVersion":1,"position":[-560,304],"id":"2b45dd85-36d8-43e4-87c1-2d2cafc0d619","name":"Calculator"},{"parameters":{"content":"# MCP Server\n\n1/ n8n에서 MCP Trigger에 URL을 복사. 그리고 반드시 워크플로우를 Active로 설정\n2/ Claude PC App으로 접속 후 설정 > 개발자 에서 MCP 설정을 선택\n3/ claude_desktop_config.json 값을 아래 값으로 변경하기.\n```\n{\n  \"mcpServers\": {\n    \"n8n_tools\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"-y\",\n        \"supergateway\",\n        \"--sse\",\n        \"https://n8n.datapopcorn.xyz/mcp/n8n_tools/sse\"\n      ]\n    }\n  }\n}\n```\n\n4/ Claude PC App을 재실행하고 정상적으로 연결되었는지 체크하기.\n5/ 오류가 나면, 해당 오류를 GPT에게 문의. 간혹 두세번 껏다키면 다시 연결됨\n\n2025-06-05 (Claude 업데이트 되면서 supergate 이슈)\n아래 처럼 수정하면 동작.\n\n```\n\"n8n_tools\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"mcp-remote\",\n        \"http://localhost:5678/mcp/n8n_tools/sse\"\n      ]\n    }\n```","height":716,"width":600,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[48,-64],"id":"b9b8cef3-556b-411f-b46d-4bd150c3f952","name":"Sticky Note16"},{"parameters":{"toolDescription":"Makes an HTTP request and returns the response data\n\nURL : https://pokeapi.co/api/v2/pokemon/{pokemon_name}\n\ne.g.) https://pokeapi.co/api/v2/pokemon/ditto","url":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}","options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[-432,304],"id":"471fd197-9c9b-4abf-a4f8-3821f7c17959","name":"PokeAPI"},{"parameters":{"cityName":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('City', ``, 'string') }}","language":"=ko"},"type":"n8n-nodes-base.openWeatherMapTool","typeVersion":1,"position":[-304,304],"id":"ac139df8-281b-405e-a3db-3fc8f7e5a169","name":"Get Weather","credentials":{"openWeatherMapApi":{"id":"fYW3S0U0ax0daIMD","name":"OpenWeatherMap account"}}},{"parameters":{"operation":"getAll","tableId":"emergency_room","returnAll":true,"filters":{"conditions":[{"keyName":"dutyName","condition":"eq","keyValue":"건국대학교병원"}]}},"type":"n8n-nodes-base.supabaseTool","typeVersion":1,"position":[-160,304],"id":"8e065ba0-ead2-4a10-9d4a-5ea6fe0859e9","name":"Get EmergencyRoom","credentials":{"supabaseApi":{"id":"M1oZmRyY3HTZpJtO","name":"Supabase account - n8n-fastcampus"}}},{"parameters":{"content":"## (사전준비)\n- 문제없이 진행하시려면 [Node.js](https://nodejs.org/en/download)가 설치되어 있어야 합니다.\n- Node.js가 설치되어있는지 확인하는 방법\n\n(1) Mac : '터미널terminal' 앱(또는 iterm2) 실행.\n(2) Windows : WIN+R을 누르고 입력 또는 'powershell' 을 입력.\n이후 `node -v' 라고 타이핑 했을 때 아래와 같이 버전 정보가 뜨면 정상적으로 설치가 된 것.\n\n![](https://lh7-rt.googleusercontent.com/slidesz/AGV_vUdT-scAbGdT4lQZcCRnzU5LynhqxaRXDD3pRyTq_5unQJ1GNqJ8CneW0ST_KQzD3YQszG1JbJGcb7Dx08o97oRTCOfGEHhBmlJjn89gC9v6XD8HSFRzklWqS1ItHDyR64qYkoKT=s2048?key=cLH2vdatukykR4LVooKpbA)","height":384,"width":560},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[672,-32],"id":"2b537c05-2ccb-4f96-88c3-250a40f75c4b","name":"Sticky Note"},{"parameters":{"content":"## MCP사용 시 TIP\n- 하나의 서버에 너무 많은 도구를 연결하지 말기.(10개 미만 권장)\n- 도구명은 어떤 역할을 하는지 명시적으로 작성하기. 예. Create Event : 이벤트 생성\n- 가능하면 비슷한 역할을 하는 도구들, 중복되는 일을 하는 경우를 피하기.\n- 리소스 관리 : 서버 CPU/메모리 사용량을 모니터링하고, 필요하다면 도구를 여러 서버로 분산 배치. (특히 LLM 연계 툴이나 대용량 API 호출 도구는 부하가 클 수 있음)\n- 보안 고려 : API Key, 토큰, DB 접근 정보는 환경 변수(.env)로 관리하고 코드/설정에 직접 노출하지 않기. 필요시 role-based 접근 제어 설정.\n- 에러 핸들링 설계 : 도구 호출 실패 시 기본 fallback 응답을 정의해두기. 예: API rate-limit → 대체 응답 or 재시도 로직 추가.\n- 로그 & 모니터링 : 어떤 도구가 얼마나 자주 호출되는지, 실패율은 어떤지 로깅 및 대시보드화. 장애 시 빠르게 파악 가능.\n- 테스트 & 샌드박스 환경 분리 : 신규 도구를 붙일 때는 테스트 서버에서 충분히 검증 후 운영 서버에 반영.","height":336,"width":544},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-608,464],"id":"aed49f5c-8db3-46c1-8a13-a9cd8bb331f4","name":"Sticky Note1"},{"parameters":{"content":"## 도구 리스트","height":80,"width":272,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-864,288],"id":"2fd6c378-db8e-4d89-8ead-da51da70cfd5","name":"Sticky Note2"},{"parameters":{"operation":"append","documentId":{"__rl":true,"value":"1v2FkIVE8OKL34NyMwiRSNqHGIV804M8jzgenLtuDECw","mode":"list","cachedResultName":"(리버스엔지니어링)","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1v2FkIVE8OKL34NyMwiRSNqHGIV804M8jzgenLtuDECw/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"시트1","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1v2FkIVE8OKL34NyMwiRSNqHGIV804M8jzgenLtuDECw/edit#gid=0"},"columns":{"mappingMode":"autoMapInputData","value":{},"matchingColumns":["Title"],"schema":[{"id":"Title","displayName":"Title","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Link","displayName":"Link","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Data_Title","displayName":"Data_Title","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Data_Source","displayName":"Data_Source","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Insight","displayName":"Insight","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.7,"position":[-192,64],"id":"b522581a-ae48-4168-a065-a082097faa92","name":"Append Source","credentials":{"googleSheetsOAuth2Api":{"id":"91ar5Cg6JmPJpWXZ","name":"(DP) Google Sheets account"}}}],"connections":{"Create_Event":{"ai_tool":[[]]},"Calculator":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"PokeAPI":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Get Weather":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Get EmergencyRoom":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]},"Append Source":{"ai_tool":[[{"node":"MCP Server Trigger","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"83c10043-2433-45f8-9af7-3978d3ad3098","triggerCount":1,"shared":[{"createdAt":"2025-07-02T03:17:31.524Z","updatedAt":"2025-07-02T03:17:31.524Z","role":"workflow:owner","workflowId":"tKByJonrG0OX4O7S","projectId":"sjNgDrdbhRMMF6SK"}],"tags":[{"createdAt":"2025-06-25T04:00:38.130Z","updatedAt":"2025-09-19T05:46:22.728Z","id":"EyGUZypc5DKHVUyY","name":"패스트캠퍼스_관리자"}]}