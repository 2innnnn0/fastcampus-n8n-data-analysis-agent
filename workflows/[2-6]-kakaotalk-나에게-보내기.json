{"createdAt":"2025-09-03T02:32:35.213Z","updatedAt":"2025-09-19T06:20:50.183Z","id":"MA04hUARyXMjKRH8","name":"[2-6] KakaoTalk 나에게 보내기","active":false,"isArchived":false,"nodes":[{"parameters":{"content":"*주의\n- 1번에서 발급 받은 code는 한번 사용하고 나서 재사용 X\n- 매번 새로운 테스트를 할 때마다 새로운 인증 코드가 필요하다.","height":100,"width":416,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-256,1568],"id":"3a70a88e-2083-4803-a28c-b1ead9473ec3","name":"Sticky Note2"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[416,1056],"id":"c1c1e023-3710-4a68-adf5-268a2f2cbb57","name":"When clicking ‘Test workflow’"},{"parameters":{"content":"![](https://raw.githubusercontent.com/2innnnn0/assets/refs/heads/master/image/datapopcorn_logo_50px.png)\n# 카카오톡 \"나에게 메시지\" 보내기\n- *보안상 \"나에게 메시지\" 이외에는 안됩니다.","height":200,"width":510},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-256,928],"id":"00b4b20f-3ba8-44eb-ab0c-91bee68c880d","name":"Sticky Note4"},{"parameters":{"content":"# STEP2) Access Token 발급\n# 1. grant_type=authorization_code 사용 시\n\n```\ncurl -v -X POST https://kauth.kakao.com/oauth/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"grant_type=authorization_code\" \\\n  -d \"client_id=YOUR_REST_API_KEY\" \\\n  -d \"redirect_uri=YOUR_REDIRECT_URI\" \\\n  -d \"code=AUTHORIZATION_CODE\"\n```\n\n# 2. grant_type=refresh_token 사용 시\n\n```\ncurl -v -X POST https://kauth.kakao.com/oauth/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"grant_type=refresh_token\" \\\n  -d \"client_id=YOUR_REST_API_KEY\" \\\n  -d \"refresh_token=YOUR_REFRESH_TOKEN\"\n```","height":540,"width":640},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[400,1312],"id":"7ac08e61-d021-4cd4-a410-fc2a03ca5f0f","name":"Sticky Note6"},{"parameters":{"content":"# STEP1) 인가코드 받기 \n- 이건 웹으로 1회성으로 진행. 웹 인증을 거치기 때문에 n8n으로 자동화하기 어려움.\n\n```\nhttps://kauth.kakao.com/oauth/authorize? \\\nresponse_type=code& \\\nclient_id=${REST_API_KEY}& \\\nredirect_uri=${REDIRECT_URI}\n```\n\n예시)\nhttps://kauth.kakao.com/oauth/authorize?response_type=code&client_id=8fed318339d625acf8be5da00ab7d289&redirect_uri=https://localhost:1234\n\n\n위 URL 결과로 아래 처럼 나옴. 뒤에 code 값만 복사하기.\nhttps://localhost:1234?code=dJWIdmCq3nMhZRJh0Ks_-PFXCCpPIyveeVlMOvdKKW-M9DzCL897GwAAAAQKDSBaAAABl5L5GH9ONYg--5I0Sw\n","height":420,"width":620},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-256,1152],"id":"46064e25-f4ac-4f06-8a12-4733dba97601","name":"Sticky Note"},{"parameters":{"method":"POST","url":"https://kauth.kakao.com/oauth/token","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/x-www-form-urlencoded;charset=utf-8"}]},"sendBody":true,"contentType":"form-urlencoded","bodyParameters":{"parameters":[{"name":"grant_type","value":"refresh_token"},{"name":"client_id","value":"8fed318339d625acf8be5da00ab7d289"},{"name":"redirect_uri","value":"https://datapopcorn.win"},{"name":"refresh_token","value":"="}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[640,1056],"id":"440bd73e-744d-4fc5-b84e-06d2d17afbc1","name":"2/ Refresh Token으로 Access Token갱신"},{"parameters":{"method":"POST","url":"https://kauth.kakao.com/oauth/token","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/x-www-form-urlencoded;charset=utf-8"}]},"sendBody":true,"contentType":"form-urlencoded","bodyParameters":{"parameters":[{"name":"grant_type","value":"authorization_code"},{"name":"client_id","value":"8fed318339d625acf8be5da00ab7d289"},{"name":"redirect_uri","value":"https://datapopcorn.win"},{"name":"code"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[640,864],"id":"d706b260-cc40-44c7-8b44-abcdca43e759","name":"1/ 엑세스 토큰 받기(+Refresh Token)"},{"parameters":{"content":"# USECASE \n## 알림용 - 오류, 업데이트 등\n![](https://i.imgur.com/Kv06xPh.png)","height":744,"width":460},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1088,560],"id":"1b2c420b-709f-4d0e-a50a-846d459ee0d9","name":"Sticky Note1"},{"parameters":{"content":"# STEP 3. 메시지 전송 ([템플릿](https://developers.kakao.com/docs/latest/ko/message-template/common#feed))\n\n### 1. 피드\n```\n{\n  \"object_type\": \"feed\",\n  \"content\": {\n    \"title\": \"🚨 워크플로우 오류 발생\",\n    \"description\": \"{{ $('On Error').item.json.workflow.name }} | {{ $('On Error').item.json.execution.error.node.name }} | {{ $('On Error').item.json.execution.error.message }}\",\n    \"image_url\": \"https://www.gousypet.com/cdn/shop/files/1_5b83353e-96b8-402e-a3c0-d2ed3aefb9d2.png?v=1713500559&width=1445\",\n    \"link\": {\n      \"web_url\": \"{{ $('On Error').item.json.execution.url }}\",\n      \"mobile_web_url\": \"{{ $('On Error').item.json.execution.url }}\"\n    }\n  },\n  \"buttons\": [\n    {\n      \"title\": \"🔎 워크플로우 확인\",\n      \"link\": {\n        \"web_url\": \"{{ $('On Error').item.json.execution.url }}\",\n        \"mobile_web_url\": \"{{ $('On Error').item.json.execution.url }}\"\n      }\n    }\n  ]\n}\n```\n\n### 2. 텍스트\n\n```\n{\n    \"object_type\": \"text\",\n    \"text\": \"[데이터 알림 📊]\\n\\n🚨 실시간 트래픽 급증 감지\\n현재 접속자 수가 임계치를 초과했습니다.\\n\\n📍 대상 서비스: datapopcorn.win\\n⏰ 감지 시각: 2025-06-20 09:00\\n\\n자세히 보기 >\",\n    \"link\": {\n      \"web_url\": \"https://datapopcorn.win/dashboard\",\n      \"mobile_web_url\": \"https://datapopcorn.win/dashboard\"\n    },\n    \"button_title\": \"대시보드 보기\"\n  }\n```","height":800,"width":640},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1072,1328],"id":"0db68584-a1dc-415f-a4e3-b692d81d4ee9","name":"Sticky Note3"},{"parameters":{"method":"POST","url":"https://kapi.kakao.com/v2/api/talk/memo/default/send","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $json.access_token }}"},{"name":"Content-Type","value":"application/x-www-form-urlencoded;charset=utf-8"}]},"sendBody":true,"contentType":"form-urlencoded","bodyParameters":{"parameters":[{"name":"template_object","value":"={\n  \"object_type\":\"feed\",\n  \"content\":{\n    \"title\":\"chatGPT Gen Image\",\n    \"description\":\"Hello World\",\n    \"image_url\":\"https://videos.openai.com/vg-assets/assets%2Ftask_01jy7z71h2fjjv2y09r7hk4kv0%2F1750466878_img_0.webp?st=2025-06-22T08%3A26%3A29Z&se=2025-06-28T09%3A26%3A29Z&sks=b&skt=2025-06-22T08%3A26%3A29Z&ske=2025-06-28T09%3A26%3A29Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=8ebb0df1-a278-4e2e-9c20-f2d373479b3a&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=ekAuj%2BB5fSCjpYpg4BuNug9UdndPGT%2B%2F05W9MexT9pU%3D&az=oaivgprodscus\",\n    \"link\":{\n      \"web_url\":\"https://developers.kakao.com\",\n      \"mobile_web_url\":\"https://developers.kakao.com\"\n    }\n  }\n}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[896,1136],"id":"1755d760-5c7a-483d-ae9d-017543af3fea","name":"3/ 메시지 전송 - feed(이미지)"},{"parameters":{"method":"POST","url":"https://kapi.kakao.com/v2/api/talk/memo/default/send","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"=Bearer {{ $json.access_token }}"},{"name":"Content-Type","value":"application/x-www-form-urlencoded;charset=utf-8"}]},"sendBody":true,"contentType":"form-urlencoded","bodyParameters":{"parameters":[{"name":"template_object","value":"={\n    \"object_type\": \"text\",\n    \"text\": \"[데이터 알림 📊]\\n\\n🚨 실시간 트래픽 급증 감지\\n현재 접속자 수가 임계치를 초과했습니다.\\n\\n📍 대상 서비스: datapopcorn.win\\n⏰ 감지 시각: 2025-06-20 09:00\\n\\n자세히 보기 >\",\n    \"image_url\": \"https://www.gousypet.com/cdn/shop/files/1_5b83353e-96b8-402e-a3c0-d2ed3aefb9d2.png?v=1713500559&width=1445\",\n    \"link\": {\n      \"web_url\": \"https://datapopcorn.win/dashboard\",\n      \"mobile_web_url\": \"https://datapopcorn.win/dashboard\"\n    },\n    \"button_title\": \"대시보드 보기\"\n  }"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[896,960],"id":"3bc24fc8-6815-4d83-bbb7-d19b8e103823","name":"3/ 메시지 전송 - text"}],"connections":{"When clicking ‘Test workflow’":{"main":[[{"node":"2/ Refresh Token으로 Access Token갱신","type":"main","index":0}]]},"2/ Refresh Token으로 Access Token갱신":{"main":[[{"node":"3/ 메시지 전송 - text","type":"main","index":0},{"node":"3/ 메시지 전송 - feed(이미지)","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"11552d62-0ce8-4e2d-90bc-0778f1217758","triggerCount":0,"shared":[{"createdAt":"2025-09-03T02:32:35.213Z","updatedAt":"2025-09-03T02:32:35.213Z","role":"workflow:owner","workflowId":"MA04hUARyXMjKRH8","projectId":"sjNgDrdbhRMMF6SK"}],"tags":[{"createdAt":"2025-06-25T04:00:38.130Z","updatedAt":"2025-09-19T05:46:22.728Z","id":"EyGUZypc5DKHVUyY","name":"패스트캠퍼스_관리자"}]}